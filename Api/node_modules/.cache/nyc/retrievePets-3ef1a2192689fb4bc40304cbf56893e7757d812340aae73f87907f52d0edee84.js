function cov_88famk7hp(){var path="/Users/mario/Desktop/FinalProyect/Api/logic/retrievePets.js";var hash="437e1f276a5e309d5c4876c8fa6f3dd5db2e233a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/mario/Desktop/FinalProyect/Api/logic/retrievePets.js",statementMap:{"0":{start:{line:4,column:4},end:{line:4,column:18}},"1":{start:{line:6,column:22},end:{line:6,column:50}},"2":{start:{line:8,column:0},end:{line:24,column:1}},"3":{start:{line:9,column:4},end:{line:9,column:33}},"4":{start:{line:11,column:4},end:{line:23,column:6}},"5":{start:{line:15,column:8},end:{line:15,column:70}},"6":{start:{line:15,column:19},end:{line:15,column:70}},"7":{start:{line:16,column:8},end:{line:20,column:10}},"8":{start:{line:17,column:12},end:{line:17,column:39}},"9":{start:{line:18,column:12},end:{line:18,column:26}},"10":{start:{line:19,column:12},end:{line:19,column:26}},"11":{start:{line:22,column:8},end:{line:22,column:19}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:17},end:{line:8,column:18}},loc:{start:{line:8,column:29},end:{line:24,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:30},end:{line:23,column:5}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:21},end:{line:16,column:22}},loc:{start:{line:16,column:30},end:{line:20,column:9}},line:16}},branchMap:{"0":{loc:{start:{line:15,column:8},end:{line:15,column:70}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:70}},{start:{line:15,column:8},end:{line:15,column:70}}],line:15}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"437e1f276a5e309d5c4876c8fa6f3dd5db2e233a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_88famk7hp=function(){return actualCoverage;};}return actualCoverage;}cov_88famk7hp();const{validators:{validateId},errors:{ExistenceError}}=(cov_88famk7hp().s[0]++,require('com'));const{User,Pet}=(cov_88famk7hp().s[1]++,require('../data/models.js'));cov_88famk7hp().s[2]++;module.exports=userId=>{cov_88famk7hp().f[0]++;cov_88famk7hp().s[3]++;validateId(userId,'user id');cov_88famk7hp().s[4]++;return Promise.all([User.findById(userId).lean(),Pet.find({owner:userId}).lean()]).then(([user,pets])=>{cov_88famk7hp().f[1]++;cov_88famk7hp().s[5]++;if(!user){cov_88famk7hp().b[0][0]++;cov_88famk7hp().s[6]++;throw new Error(`User with id ${userId} not found`);}else{cov_88famk7hp().b[0][1]++;}cov_88famk7hp().s[7]++;pets.forEach(pet=>{cov_88famk7hp().f[2]++;cov_88famk7hp().s[8]++;pet.id=pet._id.toString();cov_88famk7hp().s[9]++;delete pet._id;cov_88famk7hp().s[10]++;delete pet.__v;});cov_88famk7hp().s[11]++;return pets;});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfODhmYW1rN2hwIiwiYWN0dWFsQ292ZXJhZ2UiLCJ2YWxpZGF0b3JzIiwidmFsaWRhdGVJZCIsImVycm9ycyIsIkV4aXN0ZW5jZUVycm9yIiwicyIsInJlcXVpcmUiLCJVc2VyIiwiUGV0IiwibW9kdWxlIiwiZXhwb3J0cyIsInVzZXJJZCIsImYiLCJQcm9taXNlIiwiYWxsIiwiZmluZEJ5SWQiLCJsZWFuIiwiZmluZCIsIm93bmVyIiwidGhlbiIsInVzZXIiLCJwZXRzIiwiYiIsIkVycm9yIiwiZm9yRWFjaCIsInBldCIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJfX3YiXSwic291cmNlcyI6WyJyZXRyaWV2ZVBldHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge1xuICAgIHZhbGlkYXRvcnM6IHsgdmFsaWRhdGVJZCB9LFxuICAgIGVycm9yczogeyBFeGlzdGVuY2VFcnJvciB9LFxufSA9IHJlcXVpcmUoJ2NvbScpXG5cbmNvbnN0IHsgVXNlciwgUGV0IH0gPSByZXF1aXJlKCcuLi9kYXRhL21vZGVscy5qcycpXG5cbm1vZHVsZS5leHBvcnRzID0gKHVzZXJJZCkgPT4ge1xuICAgIHZhbGlkYXRlSWQodXNlcklkLCAndXNlciBpZCcpXG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICBVc2VyLmZpbmRCeUlkKHVzZXJJZCkubGVhbigpLFxuICAgICAgICBQZXQuZmluZCh7IG93bmVyOiB1c2VySWQgfSkubGVhbigpLFxuICAgIF0pLnRoZW4oKFt1c2VyLCBwZXRzXSkgPT4ge1xuICAgICAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBFcnJvcihgVXNlciB3aXRoIGlkICR7dXNlcklkfSBub3QgZm91bmRgKVxuICAgICAgICBwZXRzLmZvckVhY2goKHBldCkgPT4ge1xuICAgICAgICAgICAgcGV0LmlkID0gcGV0Ll9pZC50b1N0cmluZygpXG4gICAgICAgICAgICBkZWxldGUgcGV0Ll9pZFxuICAgICAgICAgICAgZGVsZXRlIHBldC5fX3ZcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gcGV0c1xuICAgIH0pXG59XG4iXSwibWFwcGluZ3MiOiI2OERBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUNGRSxVQUFVLENBQUUsQ0FBRUMsVUFBVyxDQUFDLENBQzFCQyxNQUFNLENBQUUsQ0FBRUMsY0FBZSxDQUM3QixDQUFDLEVBQUFMLGFBQUEsR0FBQU0sQ0FBQSxNQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBRWxCLEtBQU0sQ0FBRUMsSUFBSSxDQUFFQyxHQUFJLENBQUMsRUFBQVQsYUFBQSxHQUFBTSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFBUCxhQUFBLEdBQUFNLENBQUEsTUFFbERJLE1BQU0sQ0FBQ0MsT0FBTyxDQUFJQyxNQUFNLEVBQUssQ0FBQVosYUFBQSxHQUFBYSxDQUFBLE1BQUFiLGFBQUEsR0FBQU0sQ0FBQSxNQUN6QkgsVUFBVSxDQUFDUyxNQUFNLENBQUUsU0FBUyxDQUFDLENBQUFaLGFBQUEsR0FBQU0sQ0FBQSxNQUU3QixNQUFPLENBQUFRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQ2ZQLElBQUksQ0FBQ1EsUUFBUSxDQUFDSixNQUFNLENBQUMsQ0FBQ0ssSUFBSSxDQUFDLENBQUMsQ0FDNUJSLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDLENBQUVDLEtBQUssQ0FBRVAsTUFBTyxDQUFDLENBQUMsQ0FBQ0ssSUFBSSxDQUFDLENBQUMsQ0FDckMsQ0FBQyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUVDLElBQUksQ0FBQyxHQUFLLENBQUF0QixhQUFBLEdBQUFhLENBQUEsTUFBQWIsYUFBQSxHQUFBTSxDQUFBLE1BQ3RCLEdBQUksQ0FBQ2UsSUFBSSxDQUFFLENBQUFyQixhQUFBLEdBQUF1QixDQUFBLFNBQUF2QixhQUFBLEdBQUFNLENBQUEsV0FBTSxJQUFJLENBQUFrQixLQUFLLENBQUUsZ0JBQWVaLE1BQU8sWUFBVyxDQUFDLENBQUQsQ0FBQyxLQUFBWixhQUFBLEdBQUF1QixDQUFBLFVBQUF2QixhQUFBLEdBQUFNLENBQUEsTUFDOURnQixJQUFJLENBQUNHLE9BQU8sQ0FBRUMsR0FBRyxFQUFLLENBQUExQixhQUFBLEdBQUFhLENBQUEsTUFBQWIsYUFBQSxHQUFBTSxDQUFBLE1BQ2xCb0IsR0FBRyxDQUFDQyxFQUFFLENBQUdELEdBQUcsQ0FBQ0UsR0FBRyxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFBN0IsYUFBQSxHQUFBTSxDQUFBLE1BQzNCLE1BQU8sQ0FBQW9CLEdBQUcsQ0FBQ0UsR0FBRyxDQUFBNUIsYUFBQSxHQUFBTSxDQUFBLE9BQ2QsTUFBTyxDQUFBb0IsR0FBRyxDQUFDSSxHQUFHLENBQ2xCLENBQUMsQ0FBQyxDQUFBOUIsYUFBQSxHQUFBTSxDQUFBLE9BRUYsTUFBTyxDQUFBZ0IsSUFBSSxDQUNmLENBQUMsQ0FBQyxDQUNOLENBQUMifQ==