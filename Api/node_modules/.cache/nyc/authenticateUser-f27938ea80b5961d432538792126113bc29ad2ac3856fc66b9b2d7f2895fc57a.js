function cov_5sof6b372(){var path="/Users/mario/Desktop/FinalProyect/Api/logic/authenticateUser.js";var hash="fb63d7a785eac694422279b608f1b1f70b80f54f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/mario/Desktop/FinalProyect/Api/logic/authenticateUser.js",statementMap:{"0":{start:{line:4,column:4},end:{line:4,column:18}},"1":{start:{line:5,column:17},end:{line:5,column:42}},"2":{start:{line:7,column:0},end:{line:23,column:1}},"3":{start:{line:8,column:4},end:{line:8,column:24}},"4":{start:{line:9,column:4},end:{line:9,column:30}},"5":{start:{line:11,column:4},end:{line:22,column:8}},"6":{start:{line:12,column:21},end:{line:12,column:50}},"7":{start:{line:14,column:8},end:{line:14,column:61}},"8":{start:{line:14,column:19},end:{line:14,column:61}},"9":{start:{line:16,column:8},end:{line:19,column:13}},"10":{start:{line:17,column:12},end:{line:19,column:13}},"11":{start:{line:21,column:8},end:{line:21,column:22}}},fnMap:{"0":{name:"authenticateUser",decl:{start:{line:7,column:26},end:{line:7,column:42}},loc:{start:{line:7,column:60},end:{line:23,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:24},end:{line:22,column:5}},line:11}},branchMap:{"0":{loc:{start:{line:14,column:8},end:{line:14,column:61}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:61}},{start:{line:14,column:8},end:{line:14,column:61}}],line:14},"1":{loc:{start:{line:16,column:8},end:{line:19,column:13}},type:"if",locations:[{start:{line:16,column:8},end:{line:19,column:13}},{start:{line:16,column:8},end:{line:19,column:13}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb63d7a785eac694422279b608f1b1f70b80f54f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5sof6b372=function(){return actualCoverage;};}return actualCoverage;}cov_5sof6b372();const{validators:{validateEmail,validatePassword},errors:{ExistenceError,AuthError}}=(cov_5sof6b372().s[0]++,require('com'));const{User}=(cov_5sof6b372().s[1]++,require('../data/models'));cov_5sof6b372().s[2]++;module.exports=function authenticateUser(email,password){cov_5sof6b372().f[0]++;cov_5sof6b372().s[3]++;validateEmail(email);cov_5sof6b372().s[4]++;validatePassword(password);cov_5sof6b372().s[5]++;return(async()=>{cov_5sof6b372().f[1]++;const user=(cov_5sof6b372().s[6]++,await User.findOne({email}));cov_5sof6b372().s[7]++;if(!user){cov_5sof6b372().b[0][0]++;cov_5sof6b372().s[8]++;throw new ExistenceError('User not found');}else{cov_5sof6b372().b[0][1]++;}cov_5sof6b372().s[9]++;if(user.password!==password){cov_5sof6b372().b[1][0]++;cov_5sof6b372().s[10]++;throw new AuthError('Password must be at least 8 characters long and contain a special character and a number');}else{cov_5sof6b372().b[1][1]++;}cov_5sof6b372().s[11]++;return user.id;})();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNXNvZjZiMzcyIiwiYWN0dWFsQ292ZXJhZ2UiLCJ2YWxpZGF0b3JzIiwidmFsaWRhdGVFbWFpbCIsInZhbGlkYXRlUGFzc3dvcmQiLCJlcnJvcnMiLCJFeGlzdGVuY2VFcnJvciIsIkF1dGhFcnJvciIsInMiLCJyZXF1aXJlIiwiVXNlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJhdXRoZW50aWNhdGVVc2VyIiwiZW1haWwiLCJwYXNzd29yZCIsImYiLCJ1c2VyIiwiZmluZE9uZSIsImIiLCJpZCJdLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0ZVVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge1xuICAgIHZhbGlkYXRvcnM6IHsgdmFsaWRhdGVFbWFpbCwgdmFsaWRhdGVQYXNzd29yZCB9LFxuICAgIGVycm9yczogeyBFeGlzdGVuY2VFcnJvciwgQXV0aEVycm9yIH0sXG59ID0gcmVxdWlyZSgnY29tJylcbmNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZSgnLi4vZGF0YS9tb2RlbHMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVVzZXIoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgdmFsaWRhdGVFbWFpbChlbWFpbClcbiAgICB2YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkKVxuXG4gICAgcmV0dXJuIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KVxuXG4gICAgICAgIGlmICghdXNlcikgdGhyb3cgbmV3IEV4aXN0ZW5jZUVycm9yKCdVc2VyIG5vdCBmb3VuZCcpXG5cbiAgICAgICAgaWYgKHVzZXIucGFzc3dvcmQgIT09IHBhc3N3b3JkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcbiAgICAgICAgICAgICAgICAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZyBhbmQgY29udGFpbiBhIHNwZWNpYWwgY2hhcmFjdGVyIGFuZCBhIG51bWJlcidcbiAgICAgICAgICAgIClcblxuICAgICAgICByZXR1cm4gdXNlci5pZFxuICAgIH0pKClcbn1cbiJdLCJtYXBwaW5ncyI6InVnRUFlWTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FmWixLQUFNLENBQ0ZFLFVBQVUsQ0FBRSxDQUFFQyxhQUFhLENBQUVDLGdCQUFpQixDQUFDLENBQy9DQyxNQUFNLENBQUUsQ0FBRUMsY0FBYyxDQUFFQyxTQUFVLENBQ3hDLENBQUMsRUFBQVAsYUFBQSxHQUFBUSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFDbEIsS0FBTSxDQUFFQyxJQUFLLENBQUMsRUFBQVYsYUFBQSxHQUFBUSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFBVCxhQUFBLEdBQUFRLENBQUEsTUFFMUNHLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHLFFBQVMsQ0FBQUMsZ0JBQWdCQSxDQUFDQyxLQUFLLENBQUVDLFFBQVEsQ0FBRSxDQUFBZixhQUFBLEdBQUFnQixDQUFBLE1BQUFoQixhQUFBLEdBQUFRLENBQUEsTUFDeERMLGFBQWEsQ0FBQ1csS0FBSyxDQUFDLENBQUFkLGFBQUEsR0FBQVEsQ0FBQSxNQUNwQkosZ0JBQWdCLENBQUNXLFFBQVEsQ0FBQyxDQUFBZixhQUFBLEdBQUFRLENBQUEsTUFFMUIsTUFBTyxDQUFDLFNBQVksQ0FBQVIsYUFBQSxHQUFBZ0IsQ0FBQSxNQUNoQixLQUFNLENBQUFDLElBQUksRUFBQWpCLGFBQUEsR0FBQVEsQ0FBQSxNQUFHLEtBQU0sQ0FBQUUsSUFBSSxDQUFDUSxPQUFPLENBQUMsQ0FBRUosS0FBTSxDQUFDLENBQUMsRUFBQWQsYUFBQSxHQUFBUSxDQUFBLE1BRTFDLEdBQUksQ0FBQ1MsSUFBSSxDQUFFLENBQUFqQixhQUFBLEdBQUFtQixDQUFBLFNBQUFuQixhQUFBLEdBQUFRLENBQUEsV0FBTSxJQUFJLENBQUFGLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFELENBQUMsS0FBQU4sYUFBQSxHQUFBbUIsQ0FBQSxVQUFBbkIsYUFBQSxHQUFBUSxDQUFBLE1BRXJELEdBQUlTLElBQUksQ0FBQ0YsUUFBUSxHQUFLQSxRQUFRLENBQzFCLENBQUFmLGFBQUEsR0FBQW1CLENBQUEsU0FBQW5CLGFBQUEsR0FBQVEsQ0FBQSxZQUFNLElBQUksQ0FBQUQsU0FBUyxDQUNmLDBGQUNKLENBQUMsQ0FBRCxDQUFDLEtBQUFQLGFBQUEsR0FBQW1CLENBQUEsVUFBQW5CLGFBQUEsR0FBQVEsQ0FBQSxPQUVMLE1BQU8sQ0FBQVMsSUFBSSxDQUFDRyxFQUFFLENBQ2xCLENBQUMsRUFBRSxDQUFDLENBQ1IsQ0FBQyJ9