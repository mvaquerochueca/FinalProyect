function cov_14owa2z1bx(){var path="/Users/mario/Desktop/Github Repo/AppIsdi/Fullstack/Api/logic/updateUserAvatar.js";var hash="807ae4a1fa124299ddf744918399bb1e24e548c3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/mario/Desktop/Github Repo/AppIsdi/Fullstack/Api/logic/updateUserAvatar.js",statementMap:{"0":{start:{line:1,column:32},end:{line:1,column:45}},"1":{start:{line:4,column:4},end:{line:4,column:18}},"2":{start:{line:6,column:0},end:{line:42,column:1}},"3":{start:{line:7,column:4},end:{line:7,column:33}},"4":{start:{line:8,column:4},end:{line:8,column:33}},"5":{start:{line:9,column:4},end:{line:9,column:30}},"6":{start:{line:11,column:4},end:{line:41,column:6}},"7":{start:{line:12,column:8},end:{line:16,column:9}},"8":{start:{line:13,column:12},end:{line:13,column:27}},"9":{start:{line:15,column:12},end:{line:15,column:18}},"10":{start:{line:18,column:22},end:{line:18,column:38}},"11":{start:{line:20,column:21},end:{line:20,column:61}},"12":{start:{line:20,column:42},end:{line:20,column:60}},"13":{start:{line:22,column:8},end:{line:26,column:9}},"14":{start:{line:23,column:12},end:{line:23,column:67}},"15":{start:{line:25,column:12},end:{line:25,column:18}},"16":{start:{line:28,column:8},end:{line:28,column:28}},"17":{start:{line:30,column:22},end:{line:30,column:43}},"18":{start:{line:32,column:8},end:{line:40,column:10}},"19":{start:{line:33,column:12},end:{line:37,column:13}},"20":{start:{line:34,column:16},end:{line:34,column:31}},"21":{start:{line:36,column:16},end:{line:36,column:22}},"22":{start:{line:39,column:12},end:{line:39,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:47},end:{line:42,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:34},end:{line:11,column:35}},loc:{start:{line:11,column:51},end:{line:41,column:5}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:20,column:32},end:{line:20,column:33}},loc:{start:{line:20,column:42},end:{line:20,column:60}},line:20},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:46},end:{line:32,column:47}},loc:{start:{line:32,column:57},end:{line:40,column:9}},line:32}},branchMap:{"0":{loc:{start:{line:12,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:12,column:8},end:{line:16,column:9}},{start:{line:12,column:8},end:{line:16,column:9}}],line:12},"1":{loc:{start:{line:22,column:8},end:{line:26,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:26,column:9}},{start:{line:22,column:8},end:{line:26,column:9}}],line:22},"2":{loc:{start:{line:33,column:12},end:{line:37,column:13}},type:"if",locations:[{start:{line:33,column:12},end:{line:37,column:13}},{start:{line:33,column:12},end:{line:37,column:13}}],line:33}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"807ae4a1fa124299ddf744918399bb1e24e548c3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_14owa2z1bx=function(){return actualCoverage;};}return actualCoverage;}cov_14owa2z1bx();const{readFile,writeFile}=(cov_14owa2z1bx().s[0]++,require('fs'));const{validators:{validateId,validateUrl,validateCallback}}=(cov_14owa2z1bx().s[1]++,require('com'));cov_14owa2z1bx().s[2]++;module.exports=(userId,avatar,callback)=>{cov_14owa2z1bx().f[0]++;cov_14owa2z1bx().s[3]++;validateId(userId,'user id');cov_14owa2z1bx().s[4]++;validateUrl(avatar,'avatar');cov_14owa2z1bx().s[5]++;validateCallback(callback);cov_14owa2z1bx().s[6]++;readFile('./data/users.json',(error,json)=>{cov_14owa2z1bx().f[1]++;cov_14owa2z1bx().s[7]++;if(error){cov_14owa2z1bx().b[0][0]++;cov_14owa2z1bx().s[8]++;callback(error);cov_14owa2z1bx().s[9]++;return;}else{cov_14owa2z1bx().b[0][1]++;}const users=(cov_14owa2z1bx().s[10]++,JSON.parse(json));const user=(cov_14owa2z1bx().s[11]++,users.find(user=>{cov_14owa2z1bx().f[2]++;cov_14owa2z1bx().s[12]++;return user.id===userId;}));cov_14owa2z1bx().s[13]++;if(!user){cov_14owa2z1bx().b[1][0]++;cov_14owa2z1bx().s[14]++;callback(new Error(`user with id ${userId} not found`));cov_14owa2z1bx().s[15]++;return;}else{cov_14owa2z1bx().b[1][1]++;}cov_14owa2z1bx().s[16]++;user.avatar=avatar;const json2=(cov_14owa2z1bx().s[17]++,JSON.stringify(users));cov_14owa2z1bx().s[18]++;writeFile('./data/users.json',json2,error=>{cov_14owa2z1bx().f[3]++;cov_14owa2z1bx().s[19]++;if(error){cov_14owa2z1bx().b[2][0]++;cov_14owa2z1bx().s[20]++;callback(error);cov_14owa2z1bx().s[21]++;return;}else{cov_14owa2z1bx().b[2][1]++;}cov_14owa2z1bx().s[22]++;callback(null);});});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTRvd2EyejFieCIsImFjdHVhbENvdmVyYWdlIiwicmVhZEZpbGUiLCJ3cml0ZUZpbGUiLCJzIiwicmVxdWlyZSIsInZhbGlkYXRvcnMiLCJ2YWxpZGF0ZUlkIiwidmFsaWRhdGVVcmwiLCJ2YWxpZGF0ZUNhbGxiYWNrIiwibW9kdWxlIiwiZXhwb3J0cyIsInVzZXJJZCIsImF2YXRhciIsImNhbGxiYWNrIiwiZiIsImVycm9yIiwianNvbiIsImIiLCJ1c2VycyIsIkpTT04iLCJwYXJzZSIsInVzZXIiLCJmaW5kIiwiaWQiLCJFcnJvciIsImpzb24yIiwic3RyaW5naWZ5Il0sInNvdXJjZXMiOlsidXBkYXRlVXNlckF2YXRhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJlYWRGaWxlLCB3cml0ZUZpbGUgfSA9IHJlcXVpcmUoJ2ZzJylcbmNvbnN0IHtcbiAgICB2YWxpZGF0b3JzOiB7IHZhbGlkYXRlSWQsIHZhbGlkYXRlVXJsLCB2YWxpZGF0ZUNhbGxiYWNrIH0sXG59ID0gcmVxdWlyZSgnY29tJylcblxubW9kdWxlLmV4cG9ydHMgPSAodXNlcklkLCBhdmF0YXIsIGNhbGxiYWNrKSA9PiB7XG4gICAgdmFsaWRhdGVJZCh1c2VySWQsICd1c2VyIGlkJylcbiAgICB2YWxpZGF0ZVVybChhdmF0YXIsICdhdmF0YXInKVxuICAgIHZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2spXG5cbiAgICByZWFkRmlsZSgnLi9kYXRhL3VzZXJzLmpzb24nLCAoZXJyb3IsIGpzb24pID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcilcblxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1c2VycyA9IEpTT04ucGFyc2UoanNvbilcblxuICAgICAgICBjb25zdCB1c2VyID0gdXNlcnMuZmluZCgodXNlcikgPT4gdXNlci5pZCA9PT0gdXNlcklkKVxuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKGB1c2VyIHdpdGggaWQgJHt1c2VySWR9IG5vdCBmb3VuZGApKVxuXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHVzZXIuYXZhdGFyID0gYXZhdGFyXG5cbiAgICAgICAgY29uc3QganNvbjIgPSBKU09OLnN0cmluZ2lmeSh1c2VycylcblxuICAgICAgICB3cml0ZUZpbGUoJy4vZGF0YS91c2Vycy5qc29uJywganNvbjIsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpXG5cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbClcbiAgICAgICAgfSlcbiAgICB9KVxufVxuIl0sIm1hcHBpbmdzIjoiNHRHQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBRUUsUUFBUSxDQUFFQyxTQUFVLENBQUMsRUFBQUgsY0FBQSxHQUFBSSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFDN0MsS0FBTSxDQUNGQyxVQUFVLENBQUUsQ0FBRUMsVUFBVSxDQUFFQyxXQUFXLENBQUVDLGdCQUFpQixDQUM1RCxDQUFDLEVBQUFULGNBQUEsR0FBQUksQ0FBQSxNQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUFMLGNBQUEsR0FBQUksQ0FBQSxNQUVsQk0sTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBQ0MsTUFBTSxDQUFFQyxNQUFNLENBQUVDLFFBQVEsR0FBSyxDQUFBZCxjQUFBLEdBQUFlLENBQUEsTUFBQWYsY0FBQSxHQUFBSSxDQUFBLE1BQzNDRyxVQUFVLENBQUNLLE1BQU0sQ0FBRSxTQUFTLENBQUMsQ0FBQVosY0FBQSxHQUFBSSxDQUFBLE1BQzdCSSxXQUFXLENBQUNLLE1BQU0sQ0FBRSxRQUFRLENBQUMsQ0FBQWIsY0FBQSxHQUFBSSxDQUFBLE1BQzdCSyxnQkFBZ0IsQ0FBQ0ssUUFBUSxDQUFDLENBQUFkLGNBQUEsR0FBQUksQ0FBQSxNQUUxQkYsUUFBUSxDQUFDLG1CQUFtQixDQUFFLENBQUNjLEtBQUssQ0FBRUMsSUFBSSxHQUFLLENBQUFqQixjQUFBLEdBQUFlLENBQUEsTUFBQWYsY0FBQSxHQUFBSSxDQUFBLE1BQzNDLEdBQUlZLEtBQUssQ0FBRSxDQUFBaEIsY0FBQSxHQUFBa0IsQ0FBQSxTQUFBbEIsY0FBQSxHQUFBSSxDQUFBLE1BQ1BVLFFBQVEsQ0FBQ0UsS0FBSyxDQUFDLENBQUFoQixjQUFBLEdBQUFJLENBQUEsTUFFZixPQUNKLENBQUMsS0FBQUosY0FBQSxHQUFBa0IsQ0FBQSxVQUVELEtBQU0sQ0FBQUMsS0FBSyxFQUFBbkIsY0FBQSxHQUFBSSxDQUFBLE9BQUdnQixJQUFJLENBQUNDLEtBQUssQ0FBQ0osSUFBSSxDQUFDLEVBRTlCLEtBQU0sQ0FBQUssSUFBSSxFQUFBdEIsY0FBQSxHQUFBSSxDQUFBLE9BQUdlLEtBQUssQ0FBQ0ksSUFBSSxDQUFFRCxJQUFJLEVBQUssQ0FBQXRCLGNBQUEsR0FBQWUsQ0FBQSxNQUFBZixjQUFBLEdBQUFJLENBQUEsY0FBQWtCLElBQUksQ0FBQ0UsRUFBRSxHQUFLWixNQUFNLENBQUQsQ0FBQyxDQUFDLEVBQUFaLGNBQUEsR0FBQUksQ0FBQSxPQUVyRCxHQUFJLENBQUNrQixJQUFJLENBQUUsQ0FBQXRCLGNBQUEsR0FBQWtCLENBQUEsU0FBQWxCLGNBQUEsR0FBQUksQ0FBQSxPQUNQVSxRQUFRLENBQUMsR0FBSSxDQUFBVyxLQUFLLENBQUUsZ0JBQWViLE1BQU8sWUFBVyxDQUFDLENBQUMsQ0FBQVosY0FBQSxHQUFBSSxDQUFBLE9BRXZELE9BQ0osQ0FBQyxLQUFBSixjQUFBLEdBQUFrQixDQUFBLFVBQUFsQixjQUFBLEdBQUFJLENBQUEsT0FFRGtCLElBQUksQ0FBQ1QsTUFBTSxDQUFHQSxNQUFNLENBRXBCLEtBQU0sQ0FBQWEsS0FBSyxFQUFBMUIsY0FBQSxHQUFBSSxDQUFBLE9BQUdnQixJQUFJLENBQUNPLFNBQVMsQ0FBQ1IsS0FBSyxDQUFDLEVBQUFuQixjQUFBLEdBQUFJLENBQUEsT0FFbkNELFNBQVMsQ0FBQyxtQkFBbUIsQ0FBRXVCLEtBQUssQ0FBR1YsS0FBSyxFQUFLLENBQUFoQixjQUFBLEdBQUFlLENBQUEsTUFBQWYsY0FBQSxHQUFBSSxDQUFBLE9BQzdDLEdBQUlZLEtBQUssQ0FBRSxDQUFBaEIsY0FBQSxHQUFBa0IsQ0FBQSxTQUFBbEIsY0FBQSxHQUFBSSxDQUFBLE9BQ1BVLFFBQVEsQ0FBQ0UsS0FBSyxDQUFDLENBQUFoQixjQUFBLEdBQUFJLENBQUEsT0FFZixPQUNKLENBQUMsS0FBQUosY0FBQSxHQUFBa0IsQ0FBQSxVQUFBbEIsY0FBQSxHQUFBSSxDQUFBLE9BRURVLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FDbEIsQ0FBQyxDQUFDLENBQ04sQ0FBQyxDQUFDLENBQ04sQ0FBQyJ9